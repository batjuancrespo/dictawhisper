<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dictado de Voz a Texto</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script type="importmap">
        {
            "imports": {
                "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
                "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="theme-toggle">
            <span class="theme-label">Modo oscuro</span>
            <label class="theme-switch">
                <input type="checkbox" id="themeToggle">
                <span class="slider"></span>
            </label>
        </div>
        
        <header>
            <h1>Dictado de Voz a Texto</h1>
        </header>
        
        <main>
            <div class="controls">
                <button id="startBtn" class="btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <circle cx="12" cy="12" r="6" fill="currentColor"/>
                    </svg>
                    Iniciar Dictado
                </button>
                <button id="pauseBtn" class="btn" disabled>
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <rect x="8" y="8" width="3" height="8" fill="currentColor"/>
                        <rect x="13" y="8" width="3" height="8" fill="currentColor"/>
                    </svg>
                    Pausar
                </button>
                <button id="stopBtn" class="btn" disabled>
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <rect x="8" y="8" width="8" height="8" fill="currentColor"/>
                    </svg>
                    Detener
                </button>
                <button id="copyBtn" class="btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 8h6v2h2v6h-8v-8z" fill="none" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M10 6v2h6v6h2v-8h-8z" fill="currentColor"/>
                    </svg>
                    Copiar Texto
                </button>
                <div class="status-indicator">
                    <span id="status">Listo para dictar</span>
                </div>
            </div>
            
            <div class="transcript-container">
                <div class="transcript-text" id="transcript" contenteditable="true"></div>
            </div>

            <div class="custom-dictionary" style="display: none;">
                <h2>Vocabulario Personalizado</h2>
                <div class="dictionary-input">
                    <input type="text" id="customWord" placeholder="Palabra a a침adir">
                    <button id="addWordBtn" class="btn">A침adir</button>
                </div>
                <div class="dictionary-list-container">
                    <h3>Palabras a침adidas:</h3>
                    <ul id="dictionaryList" class="dictionary-list"></ul>
                </div>
            </div>

            <div class="correction-controls">
                <button id="correctionBtn" class="btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 12l3 3 6-6" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                    Corregir Selecci칩n
                </button>
            </div>

            <div class="correction-panel">
                <h2>Correcciones recientes</h2>
                <ul id="correctionsList" class="corrections-list"></ul>
            </div>
        </main>

        <div class="sync-status">
            <span id="syncStatus">No sincronizado</span>
        </div>
        
        <footer>
            <p>Dictado de Voz a Texto - Desarrollado con Web Speech API</p>
        </footer>
    </div>
    
    <script type="module" src="config.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>